{% include 'header.twig' %}

<div class="g-dash-content">
   <section class="pt-4">
      <div class="container-fluid">
         <div class="gcard gcard-border">
            <div class="gcard-body p-3">
               <div class="row align-items-center">
                  <div class="col-md-auto col-12">
                    <div id="order-page" class="well well-float table-responsive">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th style="color: white;">ID</th> <!-- Set text color to white here -->
                                    <th style="color: white;">Data</th> <!-- Set text color to white here -->
                                    <th style="color: white;">ID do Pedido</th> <!-- Set text color to white here -->
                                    <th style="color: white;">Link</th> <!-- Set text color to white here -->
                                    <th style="color: white;">Serviço</th> <!-- Set text color to white here -->
                                    <th style="color: white;">Status</th> <!-- Set text color to white here -->
                                </tr>
                            </thead>
                            <tbody>
                                {% for order in orders %}
                                <tr>
                                    <td style="color: white;">{{ order['refill_id'] }}</td> <!-- Set text color to white here -->
                                    <td style="color: white;">{{ order['date'] }}</td> <!-- Set text color to white here -->
                                    <td><a href="orders/?search={{ order['id'] }}" style="color: white;">{{ order['id'] }}</a></td> <!-- Set text color to white here -->
                                    <td><a target="_blank" href="{{ order['link'] }}" style="color: white;">{{ order['link'] }}</a></td> <!-- Set text color to white here -->
                                    <td style="color: white;">{{ order['service'] }}</td> <!-- Set text color to white here -->
                                    <td>
                                        <div style="line-height:1; cursor:pointer; padding:8px 12px; text-align:center; border-radius:25px; color:white; background:{% if order['refill_status'] == "Completed" %}#00a968{% elseif order['refill_status'] == "Refiling " %}#0077b3{% elseif order['refill_status'] == "Pending" %}#2da9a2{% elseif order['refill_status'] == "Error" %}#2da9a2{% elseif order['refill_status'] == "Rejected" %}#8f3a87{% else %}#ff6b1d{% endif %};">{{ order['refill_status'] }}</div>

                                    </td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>

                    {% if pagination["count"] > 1 %}
                    <ul class="pagination">
                        {% if pagination["current"] == 1 %}
                            <li>
                                <a href="refill/{{ status }}/{{ pagination["previous"] }}{% if search %}?search={{ search }}{% endif %}" aria-label="Previous" style="color: white;">
                                    <span aria-hidden="true">ﾃつｫ</span>
                                </a>
                            </li>
                        {% endif %}
                        {% set r, l = 3, 3 %}
                        {% if pagination['current'] == 1 %}
                            {% set r = 7 %}
                        {% endif %}
                        {% if pagination['current'] == 2 %}
                            {% set r = 5 %}
                        {% endif %}
                        {% if pagination['current'] >= pagination['count'] %}
                            {% set l = 5 %}
                        {% endif %}
                        {% for page in 1..pagination["count"] %}
                            {% if page >= (pagination['current'] - l) and page <= (pagination['current'] + r) %}
                                <div style="border:1px solid rgb(128,128,128); padding:4px; margin-left:8px; min-width:21px; text-align:center;">
                                    <li{% if page == pagination['current'] %} class="active" {% endif %}>
                                        <a href="refill/{{ status }}/{{ page }}{% if search %}?search={{ search }}{% endif %}" style="color: white;">{{ page }}</a> <!-- Set text color to white here -->
                                    </li>
                                </div>
                            {% endif %}
                        {% endfor %}
                        {% if pagination['current'] < pagination['count'] %}
                            <li>
                                <a style="margin-left:8px;"
                                    href="refill/{{ status }}/{{ pagination['next'] }}{% if search %}?search={{ search }}{% endif %}" aria-label="Next" style="color: white;">
                                    <span aria-hidden="true">ﾃつｻ</span>
                                </a>
                            </li>
                        {% endif %}
                    </ul>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>

{% include 'footer.twig' %}
